<form (ngSubmit)="submit()" #f="ngForm">
  <div style="display:flex; align-items:center; gap:8px;">
    <label>Request</label>
    <button
      type="button"
      (click)="toggleSpeechRecognition()"
      [class.listening]="isListening"
      [disabled]="!speechSupported"
      class="mic-btn"
      [title]="!speechSupported ? 'Speech not supported in this browser' : (isListening ? 'Stop listening' : 'Speak your request')">
      {{ isListening ? 'ðŸŽ¤ Listening...' : 'ðŸŽ¤ Speak' }}
    </button>
  </div>
  <textarea [(ngModel)]="model.request_text" name="request_text" rows="3" style="width:100%;" [placeholder]="isListening ? 'Speak now...' : ''"></textarea>

  <div style="display:flex; gap:12px; margin-top:8px;">
    <div>
      <label>Tier</label><br/>
      <select [(ngModel)]="model.customer_tier" name="customer_tier">
        <option>A</option><option>B</option><option>C</option>
      </select>
    </div>
    <div>
      <label>Location</label><br/>
      <input [(ngModel)]="model.location" name="location" placeholder="Dallas"/>
    </div>
    <div>
      <label>Seed</label><br/>
      <input [(ngModel)]="model.seed" name="seed" type="number" placeholder="optional"/>
    </div>
  </div>

  <div style="margin-top:8px; display:flex; gap:12px;">
    <div>
      <label>Start</label><br/>
      <input [(ngModel)]="model.start_date" name="start_date" type="date"/>
    </div>
    <div>
      <label>End</label><br/>
      <input [(ngModel)]="model.end_date" name="end_date" type="date"/>
    </div>
    <div>
      <label>ZIP</label><br/>
      <input [(ngModel)]="model.zip" name="zip" placeholder="e.g. 75201"/>
    </div>
  </div>

  <button type="submit" style="margin-top:12px;">Generate Quote</button>
</form>
